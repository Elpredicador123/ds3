document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("image-modal"),t=document.getElementById("modal-image"),n=document.getElementById("img_main"),l=document.getElementById("images-section"),s=document.getElementById("information-section"),a=[],i=-1;function r(){let e=Array.from(document.querySelectorAll(".thumb"));return a=e.map(e=>e.dataset&&e.dataset.src?e.dataset.src:e.src).filter(Boolean)}function o(){e&&(e.classList.remove("show"),document.body.classList.remove("modal-open"),setTimeout(()=>e.classList.add("hidden"),220))}function c(l){if(a&&0!==a.length||r(),0===a.length)return;i=(l+a.length)%a.length;let s=a[i];s&&(n.src=s,e&&e.classList.contains("show")&&t&&(t.src=s))}function d(){c(i-1)}function u(){c(i+1)}window.viewImage=function n(l){e&&t&&(t.src=l,e.classList.add("show"),e.classList.remove("hidden"),document.body.classList.add("modal-open"),a&&0!==a.length||r(),i=a.indexOf(l))},window.toExchangeImage=function(l){!function l(s){if(!n||!s)return;let o=s;if(s&&s.tagName&&"img"!==s.tagName.toLowerCase()&&(o=s.querySelector&&(s.querySelector("img")||s.querySelector("source"))),!o)return;let c=o.dataset&&o.dataset.src?o.dataset.src:o.src;c&&(n.src=c),e&&e.classList.contains("show")&&t&&(t.src=c),a&&0!==a.length||r(),i=a.indexOf(c)}(l)},window.closeModal=o,window.prevImage=d,window.nextImage=u;let f=document.getElementById("modal-prev"),g=document.getElementById("modal-next");f&&f.addEventListener("click",d),g&&g.addEventListener("click",u),e&&e.addEventListener("click",function(t){t.target===e&&o()}),document.addEventListener("keydown",function(t){if("Escape"===t.key)return o();if("ArrowLeft"===t.key||"ArrowRight"===t.key){let l=e&&e.classList.contains("show"),s=document.activeElement===n;(l||s)&&("ArrowLeft"===t.key?d():u())}});let p=document.getElementById("product-tab"),m=document.getElementById("images-tab");p&&m&&l&&s&&(p.addEventListener("click",function(){p.classList.add("bg-blue-600","text-white"),m.classList.remove("bg-blue-600","text-white"),m.classList.add("bg-gray-100","text-gray-700"),l.classList.add("hidden"),s.classList.remove("hidden")}),m.addEventListener("click",function(){m.classList.add("bg-blue-600","text-white"),p.classList.remove("bg-blue-600","text-white"),p.classList.add("bg-gray-100","text-gray-700"),l.classList.remove("hidden"),s.classList.add("hidden")})),document.querySelectorAll("#images-section img, #information-section img").forEach(e=>e.loading="lazy");let $=Array.from(document.querySelectorAll(".thumb"));if($.length){let L=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){let n=e.target,l=n.dataset&&n.dataset.src?n.dataset.src:null;l&&n.src!==l&&(n.src=l),n.classList.add("loaded"),t.unobserve(n)}})},{rootMargin:"200px"});$.forEach(e=>L.observe(e))}!function e(){let t=document.getElementById("similar-slider");if(!t)return;let n=t.querySelector(".similar-track");if(!n)return;let l=Array.from(n.children);l.length>0&&"1"!==n.dataset.cloned&&(l.forEach(e=>n.appendChild(e.cloneNode(!0))),n.dataset.cloned="1");let s=!1,a=0,i=0,r=!1;n.style.touchAction=n.style.touchAction||"pan-y";let o=0,c=0,d=0;function u(e){if(!s){n.classList.remove("dragging"),document.body.style.userSelect="";return}s=!1,r&&function e(t){let l=t||0;if(!l||5e-4>Math.abs(l))return;let a=performance.now();function i(){let e=performance.now(),t=Math.max(1,e-a);a=e,n.scrollLeft-=l*t,n.scrollLeft>=n.scrollWidth/2&&(n.scrollLeft=0),Math.abs(l*=Math.pow(.9985,t))>5e-4&&!s&&requestAnimationFrame(i)}requestAnimationFrame(i)}(d),document.body.style.userSelect="",n.classList.remove("dragging")}function f(){!s&&(n.scrollLeft+=.5,n.scrollLeft>=n.scrollWidth/2&&(n.scrollLeft=0)),requestAnimationFrame(f)}n.addEventListener("pointerdown",function(e){if(!e||"mouse"!==e.pointerType){var t;e&&e.preventDefault&&e.preventDefault(),s=!0,r=!1,a=void 0!==(t=e).pageX?t.pageX:t.clientX,i=n.scrollLeft,o=a,c=performance.now(),d=0,document.body.style.userSelect="none",n.classList.add("dragging");try{n.setPointerCapture&&n.setPointerCapture(e.pointerId)}catch(l){}}},{passive:!1,capture:!0}),n.addEventListener("pointermove",function(e){!function e(t){if(!s)return;t.preventDefault&&t.preventDefault();let l=void 0!==t.pageX?t.pageX:t.clientX,u=performance.now(),f=Math.max(1,u-c),g=l-o;d=g/f,o=l,c=u;let p=l-a;Math.abs(p)>5&&(r=!0),n.scrollLeft=i-p}(e)},{passive:!1,capture:!0}),n.addEventListener("pointerup",function(e){u(e);try{n.releasePointerCapture&&n.releasePointerCapture(e.pointerId)}catch(t){}},{passive:!1,capture:!0}),n.addEventListener("pointercancel",u,{passive:!1,capture:!0}),n.addEventListener("pointerleave",u,{passive:!1,capture:!0}),n.addEventListener("click",function(e){r&&(e.preventDefault(),e.stopPropagation(),setTimeout(()=>r=!1,0))},!0),n.scrollLeft=0,requestAnimationFrame(f)}(),function e(){if("undefined"==typeof document)return;function t(){let e=window.innerWidth<1024;document.querySelectorAll(".sidebar-card").forEach(t=>{let n=t.querySelector(".aside-title");if(!n)return;let l=t.querySelector(".aside-body");if(!l){(l=document.createElement("div")).className="aside-body";let s=n.nextElementSibling;for(;s;){let a=s.nextElementSibling;l.appendChild(s),s=a}t.appendChild(l)}if(!n.querySelector(".aside-toggle")){let i=document.createElement("button");i.type="button",i.className="aside-toggle",i.setAttribute("aria-expanded","true"),i.innerHTML='<span class="label">Ver</span> <span class="chev">â–¾</span>',i.addEventListener("click",function(){let e=t.classList.toggle("collapsed");i.setAttribute("aria-expanded",String(!e));let n=i.querySelector(".label");n&&(n.textContent=e?"Ver":"Ocultar")}),n.appendChild(i)}if(e){t.classList.contains("collapsed")||t.classList.add("collapsed");let r=n.querySelector(".aside-toggle");r&&r.setAttribute("aria-expanded","false")}else{t.classList.remove("collapsed");let o=n.querySelector(".aside-toggle");o&&o.setAttribute("aria-expanded","true")}})}t();let n=null;window.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(t,120)})}(),e&&e.setAttribute("role","dialog"),function e(){if("undefined"==typeof window)return;function t(){if(window.innerWidth>=1024)return;let e=document.querySelector(".footer-mobile-sections .mobile-brand-grid"),t=document.querySelector(".footer-mobile-sections .mobile-price-list ul");[e,t].forEach(function(e){if(!e||"1"===e.dataset._auto)return;let t=Array.from(e.children);t.length&&"1"!==e.dataset.cloned&&(t.forEach(t=>e.appendChild(t.cloneNode(!0))),e.dataset.cloned="1");let n=!0;function l(){n&&(e.scrollLeft+=.35,e.scrollLeft>=e.scrollWidth/2&&(e.scrollLeft=0),requestAnimationFrame(l))}e.addEventListener("pointerenter",()=>n=!1),e.addEventListener("pointerleave",()=>n=!0),e.dataset._auto="1",requestAnimationFrame(l)})}t();let n;window.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(t,150)})}()});